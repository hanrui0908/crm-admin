<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../../css/bootstrap.css">
		<link href="../../css/bootstrap-theme.css" rel="stylesheet">
		<!--<link rel="stylesheet" type="text/css" href="../../css/style.css">-->
		<script src="../../js/jquery.js"></script>
		<script src="../../js/public.js"></script>
		<script src="../../js/bootstrap.js"></script>
		<script src="../../bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js"></script>
		<script src="../../bootstrap-datetimepicker-master/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
		<link  href="../../bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="../../bootstraptable/bootstrap-table.css">
		<script src="../../bootstraptable/bootstrap-table.js"></script>
    	<script src="../../bootstraptable/bootstrap-table-zh-CN.js"></script>
    	<style>
    		.sub_right{
    			margin: 10px 0;
    		}
    	</style>
	</head>
	<body>
		<div class="panel panel-default">
		  <div class="panel-heading">
		    <h3 class="panel-title">当前位置：题库管理>考题组卷管理>新建组卷</h3>
		  </div>
		  <div class="panel-body">
		  	<!--内容区域-->
		  	<div class="row">
		  		<div class="col-xs-4 col-lg-offset-3">
	  				<form class="form-horizontal" id="form" enctype="multipart/form-data" method="post">
					  <div class="form-group">
					    <label class="col-xs-3 control-label" for="">试卷名称</label>
					    <div class="col-xs-9">
					    	<input type="text" class="form-control" id="" placeholder="">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="col-xs-3 control-label" for="">科目</label>
					    <div class="col-xs-9">
					    	<select id="" class="form-control">
					    		
					    	</select>
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="col-xs-3 control-label" for="">模考模板</label>
					    <div class="col-xs-9">
					    	<select id="" class="form-control">
					    		
					    	</select>
					    </div>
					  </div>
					  
					  <div class="form-group">
					    <label class="col-xs-3 control-label" for="">上传封面</label>
					    <div class="col-xs-9">
					    	<input type="file" id="">
					    </div>
					  </div>
					  
					  <!--<div class="form-group">
					    <div class="col-sm-offset-3 col-sm-9">
					      <button type="button" class="btn btn-primary" id="addItem">保存</button>
					      <button type="button" class="btn btn-default" id="revert">返回</button>
					      
					    </div>
					  </div>-->
					</form>
					
		  		</div>
		  		<div class="col-xs-12">
		  			<div class="row">
		  				<div class="col-xs-6">
		  					<p class="bg-info" style="line-height: 40px;">添加模考试题</p>
		  					<form class="form-inline">
							  <div class="input-group col-xs-12">
							      <input type="text" class="form-control" placeholder="请输入关键字">
							      <span class="input-group-btn">
							        <button class="btn btn-default" type="button" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
							        	条件<span class="caret"></span>
							        </button>
							        <button type="button" class="btn btn-primary" id="searchBtn">搜索</button>
							      </span>
							    </div>
							</form>
							<div class="collapse" id="collapseExample" style="margin-top: 10px;">
								<div class="panel panel-default">
								  <div class="panel-heading">搜索条件</div>
								  <div class="panel-body">
								    <form class="form-horizontal" id="form" enctype="multipart/form-data" method="post">
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">标签</label>
									    <div class="col-xs-9">
									    	<select id="" class="form-control">
					    		
					    					</select>
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">题目难度</label>
									    <div class="col-xs-9">
									    	<select id="" class="form-control">
					    		
					    					</select>
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">星级</label>
									    <div class="col-xs-9">
									    	<input type="text" class="form-control" id="" placeholder="">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">年份</label>
									    <div class="col-xs-9">
									    	<input type="text" class="form-control" id="" placeholder="">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">题型</label>
									    <div class="col-xs-9">
									    	<select id="item_type" class="form-control">
						                        <option value="0">全部</option>
						                        <option value="1">单选</option>
						                        <option value="2">填空</option>
						                        <option value="3">解答</option>
						                        <option value="4">多选</option>
						                        <option value="5">材料</option>
						                        <option value="6">完型</option>
						                        <option value="7">阅读</option>
						                        <option value="8">7选5</option>
						                        <option value="9">翻译</option>
						                        <option value="10">排序</option>
						                        <option value="11">小作文</option>
						                        <option value="12">大作文</option>
						                        <option value="13">证明</option>
						                    </select>
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">状态</label>
									    <div class="col-xs-9">
									    	<select id="type" class="form-control">
						                        <option value="0">全部</option>
						                        <option value="1">启用</option>
						                        <option value="2">停用</option>
						                    </select>
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-xs-3 control-label" for="">题目来源</label>
									    <div class="col-xs-9">
									    	<select id="" class="form-control">
					    		
					    					</select>
									    </div>
									  </div>
									  
									</form>
								  </div>
								</div>

							</div>
		  					<div class="subject_main" style="margin-top: 10px;">
		  						<table class="table" id="table"></table>
		  					</div>
		  				</div>
		  				<div class="col-xs-6">
		  					<div class="bg-info" style="line-height: 40px;">
		  						选题区域
		  						<button type="button" class="btn btn-primary" style="float: right; margin-top: 3px;">预览</button>
		  					</div>
		  					<div class="col-xs-12 sub_right">
			  					<div class="panel panel-info" id="sub_1">
								  <div class="panel-heading">单选题(2分)</div>
								  <div class="panel-body">
								    <table class="table">
								    	<tr>
								    		<th>序号</th>
								    		<th>标签</th>
								    		<th>题型</th>
								    		<th>难度</th>
								    		<th>来源</th>
								    		<th>题目内容</th>
								    		<th>星级</th>
								    		<th>操作</th>
								    	</tr>
								    	<tr>
								    		<td>1</td>
								    		<td>2</td>
								    		<td>1</td>
								    		<td>1</td>
								    		<td>1</td>
								    		<td>2</td>
								    		<td>2</td>
								    		<td>
								    			<div class="btn-group" role="group">
								    				<a class="btn btn-info btn-xs" onclick="viewSubject()" role="button">详细</a>
								    				<a class="btn btn-danger btn-xs" onclick="removePaper()" role="button">移除</a>
								    			</div>
								    		</td>
								    	</tr>
								    </table>
								  </div>
								</div>
								<div class="panel panel-info" id="sub_2">
								  <div class="panel-heading">填空题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_3">
								  <div class="panel-heading">计算题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_4">
								  <div class="panel-heading">证明题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_5">
								  <div class="panel-heading">多选题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_6">
								  <div class="panel-heading">解答题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_7">
								  <div class="panel-heading">材料题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_8">
								  <div class="panel-heading">阅读题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_9">
								  <div class="panel-heading">7选5(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_10">
								  <div class="panel-heading">翻译题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_11">
								  <div class="panel-heading">作文题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
								<div class="panel panel-info" id="sub_12">
								  <div class="panel-heading">排序题(2分)</div>
								  <div class="panel-body">
								    	1.
								  </div>
								</div>
							</div>
		  				</div>
		  				
		  			</div>
		  		</div>
		  	</div>
		  </div>
		</div>
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		  <div class="modal-dialog modal-lg" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="myModalLabel">题目详细信息</h4>
		      </div>
		      <div class="modal-body">
				<iframe id="iframe_subject" style="width: 100%; height: 500px;"></iframe>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
		      </div>
		    </div>
		  </div>
		</div>
	</body>
</html>
<script>
	function subjectList() {
        $('#table').bootstrapTable({
            //请求方法
            method: 'get',
            striped: true,
            cache: false,
            pagination: true,
            sortable: false,
            sortOrder: "asc",
            //pageNumber:1,
            pageSize: 5,
            pageList: [5, 25, 50],
			url: "http://192.168.0.170:15000/yc-crm/item/search",
            queryParams: function(params) {
                var paramObj = {
				    name : "",//教材名称
				    subject : "",//科目
				    plat : '0'
			    };
                params.param = JSON.stringify(paramObj);
                return params;
            },
            sidePagination: "server",
            search: false,
            strictSearch: false,
            idField: "id",
            columns: [{
            	title:'序号',
            	formatter: function(value,row,index){
            		//return index+1;
            		var page = $('#table').bootstrapTable("getPage");
                	return page.pageSize * (page.pageNumber - 1) + index + 1;
            	}
            },{
                field: '',
                title: '标签',
                align: 'center'
            },{
                field: '',
                title: '题型',
                align: 'center'
            },{
                field: '',
                title: '难度',
                align: 'center'
            },{
                field: '',
                title: '来源',
                align: 'center'
            },{
                field: '',
                title: '题目内容',
                align: 'center'
            },{
                field: '',
                title: '星级',
                align: 'center'
            },{
                field: '',
                title: '解析',
                align: 'center'
            },{
                field: 'id',
                title: '操作',
                align: 'center',
                formatter: function(value, row, index) {
					var html = "<div class='btn-group' role='group'>"+
						"  <a class='btn btn-info btn-xs' onclick='viewSubject(\""+row.id+"\")' role='button'>详细</a>"+
						"  <a class='btn btn-primary btn-xs' onclick='addPaper(\""+row.id+"\")' role='button'>添加</a>"+
					"</div>";
					return html;
                }
            }],
            pagination: true
        });
    }
	$(function(){
		
		$("#searchBtn").click(function(){
			subjectList();
		});
		$("#addItem").click(function(){
			alert("保存按钮方法")
		});
	});
	function viewSubject(subjectId){
		//根据题目id查询该题目信息
		
		//数据绑定到模态对话框
		$("#iframe_subject").attr("src","../subjectAlerts/subject.html?id="+subjectId);
		$('#myModal').modal()
	}
	function addPaper(subjectId){
		alert(subjectId)
	}
</script>